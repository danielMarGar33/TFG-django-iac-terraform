{% extends "base.html" %}

{% block title %}Lista de Redes{% endblock %}

{% block content %}
<div class="text-center mb-4">
    <h2>Hola {{ request.user.username }}, esta es tu lista de redes</h2>
</div>

<div class="d-grid gap-2 mb-4">
    <form action="{% url 'create_network' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-success">Crear nueva red</button>
    </form>
</div>

{% if creada_red_5G_open %}
<div class="alert alert-success">
    ✅ Red 5G Open creada correctamente
</div>
<div class="d-grid gap-2 mb-3">
    <form action="{% url 'delete_net_5G' 'open' 'False' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Eliminar red Open5G</button>
    </form>
    <form action="{% url 'view_net_5G' 'open' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">Ver red Open5G</button>
    </form>
</div>
{% else %}
<div class="alert alert-danger">
    ❌ No se ha creado tu red Open5G
</div>
{% endif %}

{% if creada_red_5G_free %}
<div class="alert alert-success">
    ✅ Red 5G Free creada correctamente
</div>
<div class="d-grid gap-2 mb-3">
    <form action="{% url 'delete_net_5G' 'free' 'False' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Eliminar red Free5G</button>
    </form>
    <form action="{% url 'view_net_5G' 'free' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">Ver red Free5G</button>
    </form>
</div>
{% else %}
<div class="alert alert-danger">
    ❌ No se ha creado tu red Free5G
</div>
{% endif %}

{% if creada_red_gen %}
<div class="alert alert-success">
    ✅ Red Genérica creada correctamente
</div>
<div class="d-grid gap-2 mb-3">
    <form action="{% url 'delete_net_gen' 'False' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Eliminar red Genérica</button>
    </form>
    <form action="{% url 'view_net_gen' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">Ver red Genérica</button>
    </form>
</div>
{% else %}
<div class="alert alert-danger">
    ❌ No se ha creado tu red Genérica
</div>
{% endif %}

<hr class="my-4">

<div class="d-grid gap-2">
    <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-secondary">Cerrar sesión</button>
    </form>
    <form action="{% url 'delete_user' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Eliminar usuario</button>
    </form>
</div>

{# Sistema de mensajes de Django #}

{% if messages %}
{% for message in messages %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    alert("{{ message|escapejs }}");
});
</script>
{% endfor %}
{% endif %}

{% endblock %}
